<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Vue,javascript,微信小程序,函数编程,React,es3,es5,es6,es7," />










<meta name="description" content="写在前面的话本文只是对于官网文档的总结和个人使用经验结合的教程，如果和你的编程风格有出入请出门左转。由于之前使用过Vue和react,而微信小程序和Vue还有react也有相似之处，所以我会在阐述的过程中和两个框架进行比较(如果有阐述不对的地方请指出)。   主要参考微信小程序官方文档   正文开始准备工作 1.开发者账号，如果没有开发者账号可以选择体验版本，虽然不影响开发，但是不能实时在真机上">
<meta name="keywords" content="Vue,javascript,微信小程序,函数编程,React,es3,es5,es6,es7">
<meta property="og:type" content="article">
<meta property="og:title" content="微信小程序">
<meta property="og:url" content="http://yoursite.com/2018/04/10/微信小程序/index.html">
<meta property="og:site_name" content="innocces">
<meta property="og:description" content="写在前面的话本文只是对于官网文档的总结和个人使用经验结合的教程，如果和你的编程风格有出入请出门左转。由于之前使用过Vue和react,而微信小程序和Vue还有react也有相似之处，所以我会在阐述的过程中和两个框架进行比较(如果有阐述不对的地方请指出)。   主要参考微信小程序官方文档   正文开始准备工作 1.开发者账号，如果没有开发者账号可以选择体验版本，虽然不影响开发，但是不能实时在真机上">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-04-17T12:42:45.297Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="微信小程序">
<meta name="twitter:description" content="写在前面的话本文只是对于官网文档的总结和个人使用经验结合的教程，如果和你的编程风格有出入请出门左转。由于之前使用过Vue和react,而微信小程序和Vue还有react也有相似之处，所以我会在阐述的过程中和两个框架进行比较(如果有阐述不对的地方请指出)。   主要参考微信小程序官方文档   正文开始准备工作 1.开发者账号，如果没有开发者账号可以选择体验版本，虽然不影响开发，但是不能实时在真机上">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/04/10/微信小程序/"/>





  <title>微信小程序 | innocces</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>
    <a href="https://github.com/innocces"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">innocces</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/10/微信小程序/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="innocces">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="innocces">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">微信小程序</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-10T19:00:18+08:00">
                2018-04-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>写在前面的话<br>本文只是对于官网文档的总结和个人使用经验结合的教程，如果和你的编程风格有出入请出门左转。由于之前使用过Vue和react,而微信小程序和Vue还有react也有相似之处，所以我会在阐述的过程中和两个框架进行比较(如果有阐述不对的地方请指出)。</p>
</blockquote>
<blockquote>
<p>主要参考<a href="https://developers.weixin.qq.com/miniprogram/dev/index.html/" title="微信小程序" target="_blank" rel="noopener">微信小程序官方文档</a> </p>
</blockquote>
<h3 id="正文开始"><a href="#正文开始" class="headerlink" title="正文开始"></a>正文开始</h3><h4 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h4><ul>
<li>1.开发者账号，如果没有开发者账号可以选择体验版本，虽然不影响开发，但是不能实时在真机上调试。申请地址<a href="https://mp.weixin.qq.com/wxopen/waregister?action=step1 /" title="申请开发者账号" target="_blank" rel="noopener">传送门</a> ;</li>
<li>2.一台电脑？(大概这是标配)</li>
<li>3.es3、5、6、7知识。这里你可以随便使用es6(开发工具自带es6转es5,如果你使用像wepy和mpvue这样的框架进行开发的话,框架自身带有babel当然也是随便用啦)</li>
<li>4.html、css知识(虽然在原生小程序开发中使用的是小程序提供的组件进行开发的，但是其实和本来的div+css开发大相径庭)</li>
<li>5.开发者工具,这里推荐使用微信官方的ide(因为可以实时预览而且还可以在手机上预览),如果你使用的是mpvue或者是wepy的话可以使用市面上比较流行的编辑器配合微信开发工具一起进行开发，比如webstorm、phpstorm、vscode、atom等等(但要注意有些编辑器里面并不提供小程序语法的ide,所以你可能在调用小程序提供的一些api的时候需要全程手打)。各类编辑器传送门(<a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html" title="微信开发工具" target="_blank" rel="noopener">微信开发工具</a>、<a href="https://www.jetbrains.com/webstorm/" title="webstorm" target="_blank" rel="noopener">webstorm</a>、<a href="https://www.jetbrains.com/phpstorm/" title="phpstorm" target="_blank" rel="noopener">phpstorm</a>、<a href="https://code.visualstudio.com/" title="vscode" target="_blank" rel="noopener">vscode</a>、<a href="https://atom.io/" title="atom" target="_blank" rel="noopener">atom</a>)。</li>
</ul>
<h4 id="简述小程序"><a href="#简述小程序" class="headerlink" title="简述小程序"></a>简述小程序</h4><blockquote>
<p>微信小程序，故名思议是依附在微信上的小程序，这也是微信小程序当时一夜爆红的原因，因为微信小程序无须用户主动安装，只要安装微信，通过二维码或是搜索小程序名即可进行使用，这也是’即用即开的速食思想’。个人认为其实就是微信用了一个用户量进行了一个诱饵让开发者主动性的为微信增加功能，这其实和facebook当时的做法很像，当时facebook允许开发者在facebook里开发小游戏，一方面开发者坐拥了facebook的用户，而facebook拥有了开发者开发的程序丰富了facebook的功能。现在微信也是这样的一个做法，一方面开发着可以坐拥微信这样的一个流量池，而微信则可以以这个作为诱饵使开发者来开发小程序丰富微信，现在也越来越多的公司前期为了节约成本而先在微信上推出小程序，当用户稳定的时候再开发自己的APP，其实这样也无形中在推销微信，因为如果想使用这个只有小程序的产品，那样不得不的是需要下载微信，这样一个互利的过程其实对双方都是好的。</p>
</blockquote>
<h4 id="小程序的简单工作原理"><a href="#小程序的简单工作原理" class="headerlink" title="小程序的简单工作原理"></a>小程序的简单工作原理</h4><p>微信小程序在用户首次打开的时候从微信的服务器上加载该小程序的完整程序包到用户本地，紧接着通过 app.json 的 pages 字段就可以知道当前小程序的所有页面路径，根据配置微信客户端就把首页的代码装载进来，通过小程序底层的一些机制(生命周期在后面会提到)，就可以渲染出这个首页。</p>
<h4 id="小程序开发目录结构-罗列的均为初始项目结构"><a href="#小程序开发目录结构-罗列的均为初始项目结构" class="headerlink" title="小程序开发目录结构(罗列的均为初始项目结构)"></a>小程序开发目录结构(罗列的均为初始项目结构)</h4><p>1.原生小程序开发目录结构<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">├── _pages  存放所有页面</span><br><span class="line">|   ├── _index  每个文件夹对应四个文件(.wxml、.wxss、.js、.json，且文件名必须和文件夹名字相同)</span><br><span class="line">|   |   ├── index.wxml</span><br><span class="line">|   |   ├── index.wxss</span><br><span class="line">|   |   ├── index.js</span><br><span class="line">|   |   └── index.json</span><br><span class="line">|   └── _logs</span><br><span class="line">|       ├── logs.wxml</span><br><span class="line">|       ├── logs.wxss</span><br><span class="line">|       ├── logs.js</span><br><span class="line">|       └── logs.json</span><br><span class="line">├── _utils</span><br><span class="line">|   └── util.js  定义公共方法并导出</span><br><span class="line">├── app.js    小程序声明周期函数以及一些公共变量和方法存放地方</span><br><span class="line">├── app.json  对当前小程序的全局配置，包括了小程序的所有页面路径、界面表现、网络超时时间、底部 tab 等</span><br><span class="line">├── app.wxss  全局公用样式</span><br><span class="line">└── project.config.json  开发项目时的个性化配置，其中会包括编辑器的颜色、代码上传时自动压缩等等一系列选项。</span><br></pre></td></tr></table></figure></p>
<p>2.mpvue开发目录结构<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">|-- build                            // 项目构建(webpack)相关代码</span><br><span class="line">|   |-- build.js                     // 生产环境构建代码</span><br><span class="line">|   |-- check-version.js             // 检查node、npm等版本</span><br><span class="line">|   |-- dev-client.js                // 热重载相关</span><br><span class="line">|   |-- dev-server.js                // 构建本地服务器</span><br><span class="line">|   |-- utils.js                     // 构建工具相关</span><br><span class="line">|   |-- webpack.base.conf.js         // webpack基础配置</span><br><span class="line">|   |-- webpack.dev.conf.js          // webpack开发环境配置</span><br><span class="line">|   |-- webpack.prod.conf.js         // webpack生产环境配置</span><br><span class="line">|   |-- vue-loader.conf.js           // vue-loader配置</span><br><span class="line">|-- config                           // 项目开发环境配置</span><br><span class="line">|   |-- dev.env.js                   // 开发环境变量</span><br><span class="line">|   |-- index.js                     // 项目一些配置变量</span><br><span class="line">|   |-- prod.env.js                  // 生产环境变量</span><br><span class="line">|   |-- test.env.js                  // 测试环境变量</span><br><span class="line">|-- src                              // 源码目录</span><br><span class="line">|   |-- components                     // vue公共组件</span><br><span class="line">|   |-- pages                          // 存放页面</span><br><span class="line">|       |-- counter </span><br><span class="line">|           |-- index.vue               // 页面文件</span><br><span class="line">|           |-- main.js                 // 页面生命周期、自定义事件方法</span><br><span class="line">|           |-- store.js                // vuex状态管理</span><br><span class="line">|       |-- index </span><br><span class="line">|           |-- index.vue </span><br><span class="line">|           |-- main.js</span><br><span class="line">|       |-- logs  </span><br><span class="line">|           |-- index.vue  </span><br><span class="line">|           |-- main.js    </span><br><span class="line">|   |-- App.vue                        // 页面入口文件</span><br><span class="line">|   |-- main.js                        // 程序入口文件，加载各种公共组件</span><br><span class="line">|-- static                           // 静态文件，比如一些图片，json数据等</span><br><span class="line">|-- dist                             // 编译后的文件，在微信开发工具中打开预览，结构和原生开发一致</span><br><span class="line">|-- .babelrc                         // ES6语法编译配置</span><br><span class="line">|-- .editorconfig                    // 定义代码格式</span><br><span class="line">|-- .gitignore                       // git上传需要忽略的文件格式</span><br><span class="line">|-- README.md                        // 项目说明</span><br><span class="line">|-- favicon.ico</span><br><span class="line">|-- .postcssrc.js                    // postcss配置入口</span><br><span class="line">|-- index.html                       // 入口页面</span><br><span class="line">|-- package.json                     // 项目基本信息</span><br><span class="line">└-- project.config.json              //开发项目时的个性化配置，其中会包括编辑器的颜色、代码上传时自动压缩等等一系列选项。</span><br></pre></td></tr></table></figure></p>
<h4 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h4><blockquote>
<p>这里要主要，微信小程序的生命周期分两个，一个是小程序的生命周期，一个为页面的生命周期，开发中要仔细分辨清楚和判断需要使用哪些生命周期。 </p>
</blockquote>
<p>1.小程序的生命周期</p>
<table>
<thead>
<tr>
<th style="text-align:center">属性</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">描述</th>
<th style="text-align:center">触发时机</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">onLaunch</td>
<td style="text-align:center">Function</td>
<td style="text-align:center">生命周期函数–监听小程序初始化</td>
<td style="text-align:center">当小程序初始化完成时，会触发 onLaunch（全局只触发一次）</td>
</tr>
<tr>
<td style="text-align:center">onShow</td>
<td style="text-align:center">Function</td>
<td style="text-align:center">生命周期函数–监听小程序显示</td>
<td style="text-align:center">当小程序启动，或从后台进入前台显示，会触发 onShow</td>
</tr>
<tr>
<td style="text-align:center">onHide</td>
<td style="text-align:center">Function</td>
<td style="text-align:center">生命周期函数–监听小程序隐藏</td>
<td style="text-align:center">当小程序从前台进入后台，会触发 onHide</td>
</tr>
<tr>
<td style="text-align:center">onError</td>
<td style="text-align:center">Function</td>
<td style="text-align:center">错误监听函数</td>
<td style="text-align:center">当小程序发生脚本错误，或者 api 调用失败时，会触发 onError 并带上错误信息</td>
</tr>
<tr>
<td style="text-align:center">onPageNotFound</td>
<td style="text-align:center">Function</td>
<td style="text-align:center">页面不存在监听函数</td>
<td style="text-align:center">当小程序出现要打开的页面不存在的情况，会带上页面信息回调该函数，详见下文</td>
</tr>
<tr>
<td style="text-align:center">其他</td>
<td style="text-align:center">Any</td>
<td style="text-align:center"></td>
<td style="text-align:center">开发者可以添加任意的函数或数据到 Object 参数中，用 this 可以访</td>
</tr>
</tbody>
</table>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">实例代码</span><br><span class="line">App(&#123;</span><br><span class="line">  onLaunch: <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Do something initial when launch.</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onShow: <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// Do something when show.</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onHide: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// Do something when hide.</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onError: <span class="function"><span class="keyword">function</span>(<span class="params">msg</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(msg)</span><br><span class="line">  &#125;,</span><br><span class="line">  globalData: <span class="string">'I am global data'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>tip:</p>
<ol>
<li>前台、后台定义： 当用户点击左上角关闭，或者按了设备 Home 键离开微信，小程序并没有直接销毁，而是进入了后台；当再次进入微信或再次打开小程序，又会从后台进入前台。需要注意的是：只有当小程序进入后台一定时间，或者系统资源占用过高，才会被真正的销毁。</li>
<li>onLaunch和onShow都可以携带指定参数，具体看下表</li>
</ol>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">字段</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">path</td>
<td style="text-align:center">String</td>
<td style="text-align:center">打开小程序的路径</td>
</tr>
<tr>
<td style="text-align:center">query</td>
<td style="text-align:center">Object</td>
<td style="text-align:center">打开小程序的query</td>
</tr>
<tr>
<td style="text-align:center">scene</td>
<td style="text-align:center">Number</td>
<td style="text-align:center">打开小程序的场景值</td>
</tr>
<tr>
<td style="text-align:center">shareTicket</td>
<td style="text-align:center">String</td>
<td style="text-align:center">shareTicket转发信息</td>
</tr>
<tr>
<td style="text-align:center">referrerInfo</td>
<td style="text-align:center">Object</td>
<td style="text-align:center">当场景为由从另一个小程序或公众号或App打开时，返回此字段</td>
</tr>
<tr>
<td style="text-align:center">referrerInfo.appId</td>
<td style="text-align:center">String</td>
<td style="text-align:center">来源小程序或公众号或App的 appId</td>
</tr>
<tr>
<td style="text-align:center">referrerInfo.extraData</td>
<td style="text-align:center">Object</td>
<td style="text-align:center">来源小程序传过来的数据，scene=1037或1038时支持</td>
</tr>
</tbody>
</table>
<blockquote>
<p>关于生命周期需要说一丢丢的关注点:<br>1.小程序的生命周期<br>onLaunch 小程序生命周期函数,且在小程序初始化时执行,有且只执行一次。<br>onShow 小程序生命周期函数,小程序从后台进入前台的时候会触发,这里需要注意一个触发顺序:先触发页面的<code>onShow</code>生命钩子再触发小程序的<code>onShow</code>生命周期钩子,所以在使用<code>onShow</code>的时候逻辑需要注意，而且从第三方跳转(场景主要是APP唤醒、小程序唤醒、公众号唤醒)唤醒时参数须从小程序的<code>onShow</code>生命周期中的params中获取，因为在初始化的过程中也会触发小程序的<code>onShow</code>，且<code>onShow</code>是可以多次触发的，这样可以保证每次唤醒的参数都是我们可取的。所以不应该在小程序<code>onLaunch</code>中获取回传参数。<br>2.页面的生命周期<br>onLoad  有且只在页面初始化时执行一次，若页面进入页面栈再次呼出则不会触发<code>onLoad</code>，只会触发<code>onShow</code>。若在跳转时附加参数，只可以在<code>onLoad</code>中获取，获取方式为<code>options.query</code><br>onShow  当页面初始化时执行一次，从页面栈中被呼出时(即位于栈顶)也会执行，所以如果想要在页面中执行每次展示更新数据之类的操作的话，建议在<code>onShow</code>中执行。<br>onHide  注意当页面非页面栈顶的同时会触发<code>onHide</code></p>
</blockquote>
<h4 id="data"><a href="#data" class="headerlink" title="data"></a>data</h4><blockquote>
<p>小程序页面的<code>data</code>和<code>Vue</code>的<code>data</code>实现机制不太相同。</p>
<ul>
<li>小程序的data:初始化数据将作为页面的第一次渲染。<code>data</code> 将会以 <code>JSON</code> 的形式由逻辑层传至渲染层，所以其数据必须是可以转成 <code>JSON</code> 的格式：字符串，数字，布尔值，对象，数组。</li>
<li>Vue 将遍历此对象所有的属性，并使用 <code>Object.defineProperty</code> 把这些属性全部转为 <code>getter/setter</code>。<br>使用上的区别<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 小程序</span><br><span class="line"></span><br><span class="line">Page(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    msg:<span class="string">'aaa'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  changeData()&#123;</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;<span class="attr">msg</span>:<span class="string">'bbb'</span>&#125;);  <span class="comment">// 我们需要关注的是this.setData和react中的写法非常像，而且也是异步的。</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> Vue</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue&#123;</span><br><span class="line">  el:<span class="string">'#app'</span>,</span><br><span class="line">  data:&#123;<span class="attr">msg</span>:<span class="string">'aaa'</span>&#125;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">    changeData()&#123;<span class="keyword">this</span>.msg=<span class="string">'bbb'</span>&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">or </span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name:<span class="string">'temp'</span>,</span><br><span class="line">  data()&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      msg:<span class="string">'aaa'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">    changeData()&#123;<span class="keyword">this</span>.msg=<span class="string">'bbb'</span>&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h4 id="组件、api-这里不做详解，只在下面有需要的地方会对特定api讲解"><a href="#组件、api-这里不做详解，只在下面有需要的地方会对特定api讲解" class="headerlink" title="组件、api(这里不做详解，只在下面有需要的地方会对特定api讲解)"></a>组件、api(这里不做详解，只在下面有需要的地方会对特定api讲解)</h4><blockquote>
<p>简单的概括一下: 微信给我们提供的组件有些像React-native的组件一样，更符合他的运行环境，而且组件中提供了很多便捷的属性和方法供我们使用;而api则是微信比较吸引开发者的地方，因为开发者可以通过微信提供的api调用微信所支持的一些能力，比如: 获取微信个人信息、绑定手机号、摄像头、罗盘等等。。。。。<br>传送门<a href="https://developers.weixin.qq.com/miniprogram/dev/component/" title="组件" target="_blank" rel="noopener">组件</a>、<a href="https://developers.weixin.qq.com/miniprogram/dev/api/" title="api" target="_blank" rel="noopener">api</a></p>
</blockquote>
<h4 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h4><blockquote>
<p>在小程序中所有页面的路由全部由框架进行管理。框架以栈的形式维护了当前的所有页面。 当发生路由切换的时候，页面栈的表现如下：</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">路由方式</th>
<th style="text-align:center">页面栈表现</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">初始化</td>
<td style="text-align:center">新页面入栈</td>
</tr>
<tr>
<td style="text-align:center">打开新页面</td>
<td style="text-align:center">新页面入栈</td>
</tr>
<tr>
<td style="text-align:center">页面重定向</td>
<td style="text-align:center">当前页面出栈，新页面入栈</td>
</tr>
<tr>
<td style="text-align:center">页面返回</td>
<td style="text-align:center">页面不断出栈，直到目标返回页，新页面入栈</td>
</tr>
<tr>
<td style="text-align:center">Tab 切换</td>
<td style="text-align:center">页面全部出栈，只留下新的 Tab 页面</td>
</tr>
<tr>
<td style="text-align:center">重加载</td>
<td style="text-align:center">页面全部出栈，只留下新的页面</td>
</tr>
</tbody>
</table>
<blockquote>
<p>路由方式，对于路由的触发方式以及页面生命周期函数如下：</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">路由方式</th>
<th style="text-align:center">触发时机</th>
<th style="text-align:center">路由前页面</th>
<th style="text-align:center">路由后页面</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">初始化</td>
<td style="text-align:center">小程序打开的第一个页面</td>
<td style="text-align:center"></td>
<td style="text-align:center">onLoad, onShow</td>
</tr>
<tr>
<td style="text-align:center">打开新页面</td>
<td style="text-align:center">调用 <code>API wx.navigateTo</code> 或使用组件 <code>&lt;navigator open-type=&quot;navigateTo&quot;/&gt;</code></td>
<td style="text-align:center">onHide</td>
<td style="text-align:center">onLoad, onShow</td>
</tr>
<tr>
<td style="text-align:center">页面重定向</td>
<td style="text-align:center">调用 <code>API wx.redirectTo</code> 或使用组件 <code>&lt;navigator open-type=&quot;redirectTo&quot;/&gt;</code></td>
<td style="text-align:center">onUnload</td>
<td style="text-align:center">onLoad, onShow</td>
</tr>
<tr>
<td style="text-align:center">页面返回</td>
<td style="text-align:center">调用 <code>API wx.navigateBack</code> 或使用组件<code>&lt;navigator open-type=&quot;navigateBack&quot;&gt;</code>或用户按左上角返回按钮</td>
<td style="text-align:center">onUnload</td>
<td style="text-align:center">onShow</td>
</tr>
<tr>
<td style="text-align:center">Tab 切换</td>
<td style="text-align:center">调用 <code>API wx.switchTab</code> 或使用组件 <code>&lt;navigator open-type=&quot;switchTab&quot;/&gt;</code> 或用户切换 Tab</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">重启动</td>
<td style="text-align:center">调用 <code>API wx.reLaunch</code> 或使用组件 <code>&lt;navigator open-type=&quot;reLaunch&quot;/&gt;</code></td>
<td style="text-align:center">onUnload</td>
<td style="text-align:center">onLoad, onShow</td>
</tr>
</tbody>
</table>
<blockquote>
<p>关于路由需要注意的几点</p>
<ul>
<li><code>navigateTo</code>, <code>redirectTo</code> 只能打开非 tabBar 页面,若要打开tabbar页面需要使用<code>switchTab</code>。</li>
<li><code>switchTab</code> 只能打开 tabBar 页面。</li>
<li><code>reLaunch</code> 可以打开任意页面。</li>
<li>页面底部的 tabBar 由页面决定，即只要是定义为 tabBar 的页面，底部都有 tabBar。</li>
<li>调用页面路由带的参数可以在目标页面的<code>onLoad</code>中获取。</li>
<li>页面栈最多可以承载五个页面，建议多使用<code>redirectTo</code>打开页面。</li>
</ul>
</blockquote>
<h4 id="数据绑定"><a href="#数据绑定" class="headerlink" title="数据绑定"></a>数据绑定</h4><blockquote>
<p>小程序和Vue都是采用 <code>Mustache</code> 语法，将变量用双花括号包裹起来<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 小程序</span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">src</span>=<span class="string">"item-&#123;&#123;msg&#125;&#125;"</span>  <span class="attr">id</span>=<span class="string">"&#123;&#123; true ? msg : '' &#125;&#125;"</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line">2. Vue</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:msg</span>=<span class="string">"msg"</span> <span class="attr">:_msg</span>=<span class="string">" true ? msg : '' "</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">但在Vue中不推荐写过多的逻辑在&#123;&#123;&#125;&#125;中，这样对于后期维护是不利的，建议写在computed(即计算属性)中。</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h4 id="指令-由于微信小程序提供的一些便捷的api和Vue提供的指令极为相似，所以这里我统称为指令"><a href="#指令-由于微信小程序提供的一些便捷的api和Vue提供的指令极为相似，所以这里我统称为指令" class="headerlink" title="指令(由于微信小程序提供的一些便捷的api和Vue提供的指令极为相似，所以这里我统称为指令)"></a>指令(由于微信小程序提供的一些便捷的api和Vue提供的指令极为相似，所以这里我统称为指令)</h4><ul>
<li><p>v-for and wx:for</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">block</span>&gt;</span></span><br><span class="line">  // 不指定下标名和变量名是，默认下标为index，变量为item</span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;array&#125;&#125;"</span> <span class="attr">wx:key</span>=<span class="string">"index"</span>&gt;</span>&#123;&#123;index&#125;&#125;---&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  // 也可指定变量和下标</span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;array&#125;&#125;"</span> <span class="attr">wx:for-item</span>=<span class="string">"ite"</span> <span class="attr">wx:for-index</span>=<span class="string">"idx"</span>  <span class="attr">wx:key</span>=<span class="string">"idx"</span>&gt;</span>&#123;&#123;idx&#125;&#125;---&#123;&#123;ite&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// 建议每次进行列表渲染的时候都写上wx:key,当数据改变触发渲染层重新渲染的时候，会校正带有 key 的组件，框架会确保他们被重新排序，而不是重新创建，以确保使组件保持自身的状态，并且提高列表渲染时的效率。</span><br><span class="line"></span><br><span class="line">Page(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    array:['1','2','3']</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(item,index) in array"</span> <span class="attr">:key</span>=<span class="string">"index"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    data()&#123;<span class="keyword">return</span> &#123;<span class="attr">array</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]&#125;&#125;,</span></span><br><span class="line"><span class="undefined">  &#125;,</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>wx:if hidden</p>
<blockquote>
<p> <code>wx:if</code>主要用于小程序做条件渲染使用，当表达式的值为<code>true</code>时，当前代码片段才会被渲染，配合使用的有<code>wx:else</code>、<code>wx:elif</code>。这里需要主要的是，如果表达式的值在初次渲染的时候为<code>false</code>的话，则第一次不做任何渲染，也就是说<code>wx:if</code>是惰性的.与<code>hidden</code>不同，<code>hidden</code>不论表达式的值是<code>true</code>还是<code>false</code>初次渲染的时候都会进行代码片段的解析，只是在表达式值变化的时候淡出的将<code>display</code>属性更改为<code>block</code>或<code>none</code>。<br><code>Vue</code>中的<code>v-if</code>、<code>v-show</code>和这一对的用法是一致的，且判定使用方式都一致。</p>
</blockquote>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">"&#123;&#123; num1 - num2 &gt; 0 &#125;&#125;"</span>&gt;</span>&#123;&#123; num1 - num2 &#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:else</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">hidden</span>=<span class="string">"&#123;&#123; num1 - num2 &gt; 0 &#125;&#125;"</span>&gt;</span>hidden<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line">/*.js*/</span><br><span class="line">Page(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    num1:1,</span><br><span class="line">    num2:2,</span><br><span class="line">    msg:'wx:else'</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"num1 - num2 &gt; 0"</span>&gt;</span>&#123;&#123; computedNum &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">"false"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="undefined">    data: &#123;</span></span><br><span class="line"><span class="undefined">      num1: 1,</span></span><br><span class="line"><span class="undefined">      num2: 2,</span></span><br><span class="line"><span class="javascript">      msg : <span class="string">'v-if'</span></span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="undefined">    computed:&#123;</span></span><br><span class="line"><span class="undefined">      computedNum()&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="keyword">this</span>.num1 - <span class="keyword">this</span>.num2</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>tip: 由于数据都是响应式的，所以我们无需操作dom，直接操作数据的同时，视图会根据我们数据的变化而做出对应的改变，这就是数据驱动页面的好处。如果需要做一些根据数据变化的选项卡或者条件判断是否显示某些东西的时候，这两个指令当之无愧。但是在使用的时候要从渲染的角度多考虑一些，比如你有一个代码块在页面中数据会频繁变化，那么应该使用hidden，这样可以减少页面渲染的代价，让你得页面响应的更快一些。</p>
</blockquote>
<ul>
<li>bindtap、catchtap(事件机制)<blockquote>
<p>小程序中的事件和<code>vue</code>中略有不同，小程序直接将时间分为两种，一种为冒泡型事件:<code>bindtap</code>(真实的为<code>bindHandler</code>);一种为捕获型事件:<code>catchtap</code>(真实的为<code>catchHandler</code>);由于小程序绑定事件时是无法传参的，所以需要依赖小程序组件中提供的另一个属性进行参数的传递:<code>data-xx=&quot;xxx&quot;</code>。在绑定时间函数的事件对象中我们可以获取到我们需要的这些参数。</p>
</blockquote>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">bindtap</span>=<span class="string">"getInfo"</span> <span class="attr">data-msg</span>=<span class="string">"this is msg"</span> <span class="attr">catchlongpress</span>=<span class="string">"longPress"</span>&gt;</span> &#123;&#123; msg ? msg : 'nothing' &#125;&#125; <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"> /* .js */</span><br><span class="line">Page(&#123;</span><br><span class="line">  data:&#123; msg:'' &#125;,</span><br><span class="line">  // bindtap</span><br><span class="line">  getInfo(event)&#123;</span><br><span class="line">    // 可以在event.target.dataset或event.currentTarget.dataset中获取data- 字段下的值。</span><br><span class="line">    let &#123;dataset&#125; = event.target || event.currentTarget;</span><br><span class="line">    let &#123; msg &#125; = dataset;</span><br><span class="line">    this.setData(&#123; msg &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  // catchlogpress</span><br><span class="line">  longPress(event)&#123;</span><br><span class="line">    // 这里其实就是想验证同一个事情,所以就互相调用了</span><br><span class="line">    this.getInfo(event);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>支持事件如下表:</p>
<table>
<thead>
<tr>
<th style="text-align:center">类型</th>
<th style="text-align:center">触发条件</th>
<th style="text-align:center">最低版本</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">touchstart</td>
<td style="text-align:center">手指触摸动作开始</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">touchmove</td>
<td style="text-align:center">手指触摸后移动</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">touchcancel</td>
<td style="text-align:center">手指触摸动作被打断，如来电提醒，弹窗</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">touchend</td>
<td style="text-align:center">手指触摸动作结束</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">tap</td>
<td style="text-align:center">手指触摸后马上离开</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">longpress</td>
<td style="text-align:center">手指触摸后，超过350ms再离开，如果指定了事件回调函数并触发了这个事件，tap事件将不被触发</td>
<td style="text-align:center">1.5.0</td>
</tr>
<tr>
<td style="text-align:center">longtap</td>
<td style="text-align:center">手指触摸后，超过350ms再离开（推荐使用longpress事件代替）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">transitionend</td>
<td style="text-align:center">会在 WXSS transition 或 wx.createAnimation 动画结束后触发</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">animationstart</td>
<td style="text-align:center">会在一个 WXSS animation 动画开始时触发</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">animationiteration</td>
<td style="text-align:center">会在一个 WXSS animation 一次迭代结束时触发</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">animationend</td>
<td style="text-align:center">会在一个 WXSS animation 动画完成时触发</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">touchforcechange</td>
<td style="text-align:center">在支持 3D Touch 的 iPhone 设备，重按时会触发</td>
<td style="text-align:center">1.9.90</td>
</tr>
</tbody>
</table>
<h4 id="未完待续"><a href="#未完待续" class="headerlink" title="未完待续"></a>未完待续</h4>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Vue/" rel="tag"># Vue</a>
          
            <a href="/tags/javascript/" rel="tag"># javascript</a>
          
            <a href="/tags/微信小程序/" rel="tag"># 微信小程序</a>
          
            <a href="/tags/函数编程/" rel="tag"># 函数编程</a>
          
            <a href="/tags/React/" rel="tag"># React</a>
          
            <a href="/tags/es3/" rel="tag"># es3</a>
          
            <a href="/tags/es5/" rel="tag"># es5</a>
          
            <a href="/tags/es6/" rel="tag"># es6</a>
          
            <a href="/tags/es7/" rel="tag"># es7</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/04/09/Vue问题集锦/" rel="next" title="Vue问题集锦">
                <i class="fa fa-chevron-left"></i> Vue问题集锦
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/04/17/wx-promise-http/" rel="prev" title="wx-promise-http">
                wx-promise-http <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="innocces" />
            
              <p class="site-author-name" itemprop="name">innocces</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">20</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#正文开始"><span class="nav-number">1.</span> <span class="nav-text">正文开始</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#准备工作"><span class="nav-number">1.1.</span> <span class="nav-text">准备工作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#简述小程序"><span class="nav-number">1.2.</span> <span class="nav-text">简述小程序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#小程序的简单工作原理"><span class="nav-number">1.3.</span> <span class="nav-text">小程序的简单工作原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#小程序开发目录结构-罗列的均为初始项目结构"><span class="nav-number">1.4.</span> <span class="nav-text">小程序开发目录结构(罗列的均为初始项目结构)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#生命周期"><span class="nav-number">1.5.</span> <span class="nav-text">生命周期</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#data"><span class="nav-number">1.6.</span> <span class="nav-text">data</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#组件、api-这里不做详解，只在下面有需要的地方会对特定api讲解"><span class="nav-number">1.7.</span> <span class="nav-text">组件、api(这里不做详解，只在下面有需要的地方会对特定api讲解)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#路由"><span class="nav-number">1.8.</span> <span class="nav-text">路由</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数据绑定"><span class="nav-number">1.9.</span> <span class="nav-text">数据绑定</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#指令-由于微信小程序提供的一些便捷的api和Vue提供的指令极为相似，所以这里我统称为指令"><span class="nav-number">1.10.</span> <span class="nav-text">指令(由于微信小程序提供的一些便捷的api和Vue提供的指令极为相似，所以这里我统称为指令)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#未完待续"><span class="nav-number">1.11.</span> <span class="nav-text">未完待续</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">innocces</span>
  <div class="powered-by">
    <i class="fa fa-user-md" style="margin-left:5px"></i><span id="busuanzi_container_site_uv">
      本站访客数:<span id="busuanzi_value_site_uv"></span>
    </span>
  </div>

  
</div>


  <div class="powered-by">由 innocces 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; </div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
<script type="text/javascript" src="/js/src/love.js"></script>  
